<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ワンピースTCG DB</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#333"/>
    <link rel="apple-touch-icon" href="icons/iconx192.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/localforage/1.10.0/localforage.min.js"></script>
</head>
<body>

    <header>
        <h1>ワンピースTCG カードデータベース</h1>
        <div class="search-container">
            <input type="text" id="search-bar" placeholder="カード名を入力...">
            <button id="filter-button">詳細フィルター</button>
            <button id="reset-button">リセット</button>
        </div>
    </header>

    <div class="main-container">
        <!-- カードリストコンテナ -->
        <div class="card-list-container">
            <div id="card-list" class="card-list">
                <!-- カードはここに動的に読み込まれます -->
            </div>
            <div id="loading-indicator" class="loading-indicator">読み込み中...</div>
        </div>

        <!-- デッキ構築エリア -->
        <div class="deck-builder-container" id="deck-builder">
            <h2>デッキ構築</h2>
            
            <!-- リーダーカード -->
            <div class="deck-section">
                <h3>リーダー <span id="leader-count">(0/1)</span></h3>
                <div id="leader-card-area" class="deck-card-area leader-area">
                    <!-- リーダーカードがここに追加されます -->
                </div>
            </div>

            <!-- メインデッキ -->
            <div class="deck-section">
                <h3>メインデッキ <span id="main-deck-count">(0/50)</span></h3>
                <div id="main-deck-area" class="deck-card-area main-deck-area">
                    <!-- メインデッキのカードがここに追加されます -->
                </div>
            </div>

            <!-- ドン!! デッキ -->
            <div class="deck-section">
                <h3>ドン!!デッキ <span id="don-deck-count">(0/10)</span></h3>
                <div id="don-deck-area" class="deck-card-area don-area">
                    <!-- ドン!!カードがここに追加されます -->
                </div>
            </div>

            <!-- デッキ操作 -->
            <div class="deck-controls">
                <button id="clear-deck-button">デッキクリア</button>
                <button id="generate-deck-code-button">デッキコード発行</button>
            </div>
            <div class="deck-code-section">
                <textarea id="deck-code-textarea" rows="3" placeholder="デッキコードをここに入力または発行"></textarea>
                <button id="load-deck-code-button">デッキコード読込</button>
            </div>
            <div id="deck-message" class="deck-message"></div>
        </div>
    </div>

    <!-- 詳細フィルターモーダル -->
    <div id="filter-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-modal">&times;</span>
            <h2>詳細フィルター</h2>

            <!-- 色フィルター -->
            <div class="filter-group">
                <h3>色</h3>
                <div class="filter-options color-filters">
                    <input type="checkbox" id="color-red" value="Red"><label for="color-red" class="filter-label color-red">赤</label>
                    <input type="checkbox" id="color-green" value="Green"><label for="color-green" class="filter-label color-green">緑</label>
                    <input type="checkbox" id="color-blue" value="Blue"><label for="color-blue" class="filter-label color-blue">青</label>
                    <input type="checkbox" id="color-purple" value="Purple"><label for="color-purple" class="filter-label color-purple">紫</label>
                    <input type="checkbox" id="color-black" value="Black"><label for="color-black" class="filter-label color-black">黒</label>
                    <input type="checkbox" id="color-yellow" value="Yellow"><label for="color-yellow" class="filter-label color-yellow">黄</label>
                </div>
            </div>

            <!-- カードタイプフィルター -->
            <div class="filter-group">
                <h3>カードタイプ</h3>
                <div class="filter-options type-filters">
                    <input type="checkbox" id="type-leader" value="Leader"><label for="type-leader">リーダー</label>
                    <input type="checkbox" id="type-character" value="Character"><label for="type-character">キャラ</label>
                    <input type="checkbox" id="type-event" value="Event"><label for="type-event">イベント</label>
                    <input type="checkbox" id="type-stage" value="Stage"><label for="type-stage">ステージ</label>
                </div>
            </div>

            <!-- コストフィルター -->
            <div class="filter-group">
                <h3>コスト</h3>
                <div class="filter-options cost-filters">
                    <input type="checkbox" id="cost-0" value="0"><label for="cost-0">0</label>
                    <input type="checkbox" id="cost-1" value="1"><label for="cost-1">1</label>
                    <input type="checkbox" id="cost-2" value="2"><label for="cost-2">2</label>
                    <input type="checkbox" id="cost-3" value="3"><label for="cost-3">3</label>
                    <input type="checkbox" id="cost-4" value="4"><label for="cost-4">4</label>
                    <input type="checkbox" id="cost-5" value="5"><label for="cost-5">5</label>
                    <input type="checkbox" id="cost-6" value="6"><label for="cost-6">6</label>
                    <input type="checkbox" id="cost-7" value="7"><label for="cost-7">7</label>
                    <input type="checkbox" id="cost-8" value="8"><label for="cost-8">8</label>
                    <input type="checkbox" id="cost-9" value="9"><label for="cost-9">9</label>
                    <input type="checkbox" id="cost-10" value="10"><label for="cost-10">10</label>
                </div>
            </div>

            <!-- パワーフィルター -->
            <div class="filter-group">
                <h3>パワー</h3>
                <div class="filter-options power-filters">
                    <input type="checkbox" id="power-0" value="0"><label for="power-0">0</label>
                    <input type="checkbox" id="power-1000" value="1000"><label for="power-1000">1000</label>
                    <input type="checkbox" id="power-2000" value="2000"><label for="power-2000">2000</label>
                    <input type="checkbox" id="power-3000" value="3000"><label for="power-3000">3000</label>
                    <input type="checkbox" id="power-4000" value="4000"><label for="power-4000">4000</label>
                    <input type="checkbox" id="power-5000" value="5000"><label for="power-5000">5000</label>
                    <input type="checkbox" id="power-6000" value="6000"><label for="power-6000">6000</label>
                    <input type="checkbox" id="power-7000" value="7000"><label for="power-7000">7000</label>
                    <input type="checkbox" id="power-8000" value="8000"><label for="power-8000">8000</label>
                    <input type="checkbox" id="power-9000" value="9000"><label for="power-9000">9000</label>
                    <input type="checkbox" id="power-10000" value="10000"><label for="power-10000">10000</label>
                    <input type="checkbox" id="power-11000" value="11000"><label for="power-11000">11000</label>
                    <input type="checkbox" id="power-12000" value="12000"><label for="power-12000">12000</label>
                    <input type="checkbox" id="power-15000" value="15000"><label for="power-15000">15000</label>
                </div>
            </div>

            <!-- カウンターフィルター -->
            <div class="filter-group">
                <h3>カウンター</h3>
                <div class="filter-options counter-filters">
                    <input type="checkbox" id="counter-none" value="-"><label for="counter-none">なし</label>
                    <input type="checkbox" id="counter-0" value="0"><label for="counter-0">0</label>
                    <input type="checkbox" id="counter-1000" value="1000"><label for="counter-1000">1000</label>
                    <input type="checkbox" id="counter-2000" value="2000"><label for="counter-2000">2000</label>
                </div>
            </div>

            <!-- 能力フィルター -->
            <div class="filter-group">
                <h3>能力</h3>
                <div class="filter-options ability-filters">
                    <input type="checkbox" id="ability-vanilla" value="vanilla"><label for="ability-vanilla">バニラ</label>
                    <input type="checkbox" id="ability-blocker" value="blocker"><label for="ability-blocker">ブロッカー</label>
                    <input type="checkbox" id="ability-trigger" value="trigger"><label for="ability-trigger">トリガー</label>
                </div>
            </div>

            <!-- 属性フィルター -->
            <div class="filter-group">
                <h3>属性</h3>
                <div class="filter-options attribute-filters">
                    <input type="checkbox" id="attr-slash" value="斬"><label for="attr-slash">斬</label>
                    <input type="checkbox" id="attr-strike" value="打"><label for="attr-strike">打</label>
                    <input type="checkbox" id="attr-shot" value="射"><label for="attr-shot">射</label>
                    <input type="checkbox" id="attr-special" value="特"><label for="attr-special">特</label>
                </div>
            </div>

            <!-- ブロックアイコンフィルター -->
            <div class="filter-group">
                <h3>ブロックアイコン</h3>
                <div class="filter-options blockicon-filters">
                    <input type="checkbox" id="block-1" value="1"><label for="block-1">1</label>
                    <input type="checkbox" id="block-2" value="2"><label for="block-2">2</label>
                    <input type="checkbox" id="block-3" value="3"><label for="block-3">3</label>
                    <input type="checkbox" id="block-4" value="4"><label for="block-4">4</label>
                </div>
            </div>


            <div class="modal-buttons">
                <button id="apply-filters">適用</button>
                <button id="reset-filters">リセット</button>
            </div>
        </div>
    </div>

    <!-- カード画像モーダル -->
    <div id="image-modal" class="image-modal">
        <span class="close-image-modal" id="close-image-modal">&times;</span>
        <img class="image-modal-content" id="modal-image">
    </div>


    <script src="app.js"></script>
</body>
</html>